menuconfig BR2_PACKAGE_RECALBOX_ROCKCHIP_MALI
	bool "Mali Rockchip"
	depends on BR2_arm || BR2_aarch64
	select BR2_PACKAGE_HAS_LIBEGL
	select BR2_PACKAGE_HAS_LIBGLES
	select BR2_PACKAGE_HAS_LIBGBM
	select BR2_PACKAGE_LIBDRM
	help
	  The Mali GPU library used in Rockchip Platform.
	  Supported GPU: bifrost, midgard, utgard.

if BR2_PACKAGE_RECALBOX_ROCKCHIP_MALI

choice
	prompt "Platform/GPU"
config BR2_PACKAGE_RECALBOX_ROCKCHIP_MALI_BIFROST_G31
	bool "bifrost g31"
config BR2_PACKAGE_RECALBOX_ROCKCHIP_MALI_BIFROST_G52
	bool "bifrost g52"
config BR2_PACKAGE_RECALBOX_ROCKCHIP_MALI_MIDGARD
	bool "midgard t86x"
config BR2_PACKAGE_RECALBOX_ROCKCHIP_MALI_UTGARD
	bool "utgard 450"
endchoice

if !BR2_PACKAGE_RECALBOX_ROCKCHIP_MALI_BIFROST_VULKAN

config BR2_PACKAGE_PROVIDES_LIBEGL
	default "recalbox-rockchip-mali"

config BR2_PACKAGE_PROVIDES_LIBGLES
	default "recalbox-rockchip-mali"

config BR2_PACKAGE_PROVIDES_LIBGBM
	default "recalbox-rockchip-mali"

endif

endif

comment "Mali Rockchip"
	depends on !BR2_arm && !BR2_aarch64
